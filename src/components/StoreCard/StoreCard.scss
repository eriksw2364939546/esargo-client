// StoreCard.scss - ИСПРАВЛЕННАЯ ВЕРСИЯ

.most__popular-card {
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.192);
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    background: white;
    transition: all 0.25s;
    
    // ✅ ИСПРАВЛЕНО: убираем max-width и делаем гибкой
    width: 100%;
    max-width: 330px;
    display: flex;
    flex-direction: column;
    overflow: hidden; // ✅ ВАЖНО: предотвращаем вылет контента

    &:hover {
        transform: scale(1.04);
        box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.192);
    }

    .most__popular-image__wrapper {
        position: relative;
        // ✅ ИСПРАВЛЕНО: убираем фиксированную ширину
        width: 100%;
        height: 150px;
        border-radius: 10px 10px 0 0;
        overflow: hidden;
        flex-shrink: 0; // Не сжимается

        .most__popular-rating {
            position: absolute;
            right: 10px;
            top: 10px;
            background-color: rgba(255, 255, 255, 0.9); // ✅ Более контрастный фон
            font-size: 13px; // ✅ Немного меньше
            padding: 4px 6px;
            border-radius: 6px;
            z-index: 2;
            display: flex;
            align-items: center;
            gap: 2px;
            font-weight: 500;
        }

        .most__popular-img {
            z-index: 1;
        }
    }

    .popular-card__bottom-wrapper {
        padding: 15px;
        flex: 1; // ✅ Занимает оставшееся место
        display: flex;
        flex-direction: column;

        .most__popular-main {
            // ✅ ИСПРАВЛЕНО: определяем .row как флексбокс
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px; // ✅ Уменьшили отступ
            gap: 10px; // ✅ Добавили gap между элементами

            .most__popular-title {
                font-size: 15px;
                font-weight: bold;
                color: var(--colorText);
                flex: 1; // ✅ Занимает доступное место
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap; // ✅ Обрезаем длинные названия
            }

            .most__popular-rating__btn {
                // ✅ ИСПРАВЛЕНО: убираем line-height и фиксируем размеры
                display: flex;
                align-items: center;
                justify-content: center;
                width: 28px;
                height: 28px;
                border-radius: 8px;
                border: 1px solid #e5e7eb;
                background: none;
                color: var(--colorText);
                transition: all 0.2s;
                cursor: pointer;
                flex-shrink: 0; // ✅ Не сжимается

                &:hover {
                    background: rgba(255, 0, 0, 0.1);
                    border-color: rgba(255, 0, 0, 0.3);
                    color: red;
                }
            }
        }

        .most__popular-footer {
            // ✅ ИСПРАВЛЕНО: определяем .row как флексбокс
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;

            .most__popular-delivery__time,
            .most__popular-delivery {
                // ✅ ИСПРАВЛЕНО: определяем .row внутри футера
                display: flex;
                align-items: center;
                gap: 4px;

                p {
                    font-size: 13px; // ✅ Немного меньше
                    margin: 0; // ✅ Убираем margin
                    font-weight: 500;
                    color: #666; // ✅ Более мягкий цвет
                }
            }
        }
    }
}

// ✅ ДОБАВЛЕНО: Определяем базовый класс .row если его нет глобально
.row {
    display: flex;
    align-items: center;
}

// ✅ ИСПРАВЛЕНО: Адаптивность
@media all and (max-width: 425px) {
    .most__popular-card {
        max-width: 100%; // ✅ На мобильных занимает всю ширину
        
        .most__popular-image__wrapper {
            height: 120px; // ✅ Меньше высота на мобильных
        }

        .popular-card__bottom-wrapper {
            padding: 12px; // ✅ Меньше отступы

            .most__popular-main .most__popular-title {
                font-size: 14px; // ✅ Меньше шрифт
            }

            .most__popular-footer {
                p {
                    font-size: 12px; // ✅ Меньше шрифт
                }
            }
        }
    }
}